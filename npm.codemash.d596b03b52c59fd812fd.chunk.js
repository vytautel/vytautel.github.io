(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6915c32d8b6d5888a54d":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getRecords",function(){return l}),n.d(r,"deleteRecord",function(){return E}),n.d(r,"saveRecord",function(){return T}),n.d(r,"updateRecord",function(){return A}),n.d(r,"getRecord",function(){return O}),n.d(r,"getTaxonomyTerms",function(){return I});var o={};n.r(o),n.d(o,"downloadImage",function(){return S}),n.d(o,"uploadFile",function(){return C});var i={};n.r(i),n.d(i,"register",function(){return y}),n.d(i,"updateUser",function(){return h}),n.d(i,"getUsers",function(){return f}),n.d(i,"getUser",function(){return P}),n.d(i,"deleteUser",function(){return $}),n.d(i,"resetPassword",function(){return j}),n.d(i,"login",function(){return R});var a={};n.r(a),n.d(a,"registerNotificationToken",function(){return m}),n.d(a,"sendPushNotification",function(){return N}),n.d(a,"getNotifications",function(){return L}),n.d(a,"getNotification",function(){return U}),n.d(a,"markNotificationAsRead",function(){return b});var s={};n.r(s),n.d(s,"executeFunction",function(){return g});class c extends Error{constructor(e){if(super(`${e.status} for ${e.url}`),this.name="HttpError",this.response=e,this.badCredentials=500==e.status,this.unknownError=500!=e.status,this.errorMessage="",this.errorCode="",e._bodyInit){let t=JSON.parse(e._bodyInit);t&&t.responseStatus&&"BusinessException"===t.responseStatus.errorCode&&(this.errorCode="BusinessException",this.errorMessage=t.responseStatus.message)}}}async function p(e,t){let n=await fetch(e,t);if(n.status>=200&&n.status<300)return n.json();throw new c(n)}var d=new class{constructor(){this.apiUrl="https://api.codemash.io"}init(e){this.secretKey=e.secretKey,this.projectId=e.projectId,this.region=e.region,this.version=e.version,this.tablePageSize=e.tablePageSize||10,this.maxFileSize=e.maxFileSize||104857600}};const u={ACCOUNT:{LOGIN:(e,t)=>`/auth/credentials?username=${e}&password=${t}`,REGISTER:"/accounts"},PROJECT:{DATABASE:{COLLECTION:{GET:e=>`/db/schemas/${e}`,RECORD:{CREATE:e=>`/db/${e}`,UPDATE_PART_OF_DOCUMENT:e=>`/db/${e}`,UPDATE:e=>`/db/${e}/replaceOne`,GET:(e,t)=>`/db/${e}/${t}`,GET_ALL:e=>`/v1/db/${e}/find`,DELETE:e=>`/db/${e}`},FILES:{UPLOAD:e=>`/db/${e}/files`}},TAXONOMY:{GET_ALL:"/db/taxonomies",GET:e=>`/db/taxonomies/${e}`,TERM:{GET:e=>`/db/terms/${e}`,GET_ALL:e=>`/db/taxonomies/${e}/terms`},SYSTEM:{GET_TERMS:e=>`/taxonomies/${e}/terms`}}},NOTIFICATIONS:{PUSH:{REGISTER_TOKEN:"/notifications/push/token/expo",GET_ALL:(e,t,n)=>`/notifications/push?userId=${e}&pageSize=${n}&pageNumber=${t}`,GET:e=>`/notifications/push/${e}`,MARK_NOTIFICATION_AS_READ:e=>`/notifications/push/${e}/read`,SEND:"/notifications/push"},EMAIL:{BASE_URL:"/email",SEND_EMAIL:"/email/send"}},MEMBERSHIP:{BASE_URL:"/membership",USERS:{REGISTER:"/membership/users/register",UPDATE:"/membership/users",GET_ALL:"/membership/users",GET:e=>`/membership/users/${e}`,RESET_PASSWORD:"/membership/users/password/reset/token"}},FILES:{BASE_URL:"/files",DOWNLOAD:e=>`/files?fileId=${e}`,DOWNLOAD_OPTIMIZED:(e,t)=>`/files?fileId=${e}&optimization=${t}`,UPLOAD:"/files"},CODE:{BASE_URL:"/serverless",EXECUTE:e=>`/v1/serverless/functions/${e}/execute`}},API_KEYS:e=>`/apikeys/${e}`};async function l(e,t,n,r,o,i){null!=i&&void 0!=i||(i=""),null!=o&&void 0!=o||(o=""),null!=r&&void 0!=r||(r="");let a=await p(`${d.apiUrl}${u.PROJECT.DATABASE.COLLECTION.RECORD.GET_ALL(e)}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({PageSize:n||d.tablePageSize,PageNumber:t||0,projection:i,filter:o,sort:r})});return JSON.parse(a.result)}async function E(e,t){return(await p(`${d.apiUrl}${u.PROJECT.DATABASE.COLLECTION.RECORD.DELETE(e)}`,{method:"DELETE",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({filter:t})})).result.deletedCount>0}async function T(e,t){let n=await p(`${d.apiUrl}${u.PROJECT.DATABASE.COLLECTION.RECORD.CREATE(e)}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({document:JSON.stringify(t)})});return JSON.parse(n.result)}async function A(e,t,n){return(await p(`${d.apiUrl}${u.PROJECT.DATABASE.COLLECTION.RECORD.UPDATE_PART_OF_DOCUMENT(e)}`,{method:"PATCH",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({filter:JSON.stringify(t),update:JSON.stringify(n)})})).result}async function O(e,t){let n=await p(`${d.apiUrl}${u.PROJECT.DATABASE.COLLECTION.RECORD.GET(e,t)}`,{method:"GET",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json","Accept-Language":"en"},body:null});return JSON.parse(n.result)}async function I(e){return(await p(`${d.apiUrl}${u.PROJECT.DATABASE.TAXONOMY.TERM.GET_ALL(e)}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:null})).result}async function S(e,t){let n=`${d.apiUrl}${u.PROJECT.FILES.DOWNLOAD(e)}`;return t&&(n=`${d.apiUrl}${u.PROJECT.FILES.DOWNLOAD_OPTIMIZED(e,t)}`),{fileId:e,image:await async function(e,t,n="image/png"){let r=await fetch(e,t);if(200==r.status)return r.text().then(e=>({contentType:n,raw:e}));throw new c(r)}(n,{method:"GET",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"text/plain"},body:null})}}async function C(e,t,n,r){const o=new FormData;null!=r&&void 0!=r&&o.append("uniqueFieldName",r),null!=n&&void 0!=n&&o.append("recordId",n);let i=e.substring(e.lastIndexOf("/")+1);return o.append("file",{uri:e,name:i,type:"image/png"}),await fetch(`${d.apiUrl}${u.PROJECT.DATABASE.COLLECTION.FILES.UPLOAD(t)}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,"Content-Type":"multipart/form-data",Accept:"application/json"},body:o})}async function y(e,t,n=null,r=null,o=null){return await p(`${d.apiUrl}${u.PROJECT.MEMBERSHIP.USERS.REGISTER}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,displayName:n,firstName:r,lastName:o,autoLogin:!1})})}async function h(e){return await p(`${d.apiUrl}${u.PROJECT.MEMBERSHIP.USERS.UPDATE}`,{method:"PUT",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}async function f(e,t,n,r){return null!=n&&void 0!=n||(n=""),null!=r&&void 0!=r||(r=""),(await p(`${d.apiUrl}${u.PROJECT.MEMBERSHIP.USERS.GET_ALL}`,{method:"GET",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({PageSize:t||d.tablePageSize,PageNumber:e||0,filter:n,sort:r})})).result}async function P(e){return(await p(`${d.apiUrl}${u.PROJECT.MEMBERSHIP.USERS.GET(e)}`,{method:"GET",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:null})).result}async function $(e){return(await p(`${d.apiUrl}${u.PROJECT.MEMBERSHIP.USERS.DELETE(e)}`,{method:"DELETE",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:null})).result.deletedCount>0}async function j(e){return(await p(`${d.apiUrl}${u.PROJECT.MEMBERSHIP.USERS.RESET_PASSWORD}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e})})).result}async function R(e,t){return await p(`${d.apiUrl}${u.ACCOUNT.LOGIN(e,t)}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"}})}async function m(e,t){return await p(`${d.apiUrl}${u.PROJECT.NOTIFICATIONS.PUSH.REGISTER_TOKEN}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:e,userId:t})})}async function N(e,t,n,r,o,i,a){return await p(`${d.apiUrl}${u.PROJECT.NOTIFICATIONS.PUSH.SEND}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({templateId:e,users:t||[],devices:n||[],tokens:r||null,postpone:o||!1,respectTimeZone:i||!0,isNonPushable:a||!1})})}async function L(e,t,n,r,o){return null!=r&&void 0!=r||(r=""),null!=o&&void 0!=o||(o=""),(await p(`${d.apiUrl}${u.PROJECT.NOTIFICATIONS.PUSH.GET_ALL(e,t,n)}`,{method:"GET",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:null})).result}async function U(e){return(await p(`${d.apiUrl}${u.PROJECT.NOTIFICATIONS.PUSH.GET(e)}`,{method:"GET",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:null})).result}async function b(e,t){return await p(`${d.apiUrl}${u.PROJECT.NOTIFICATIONS.PUSH.MARK_NOTIFICATION_AS_READ(e)}`,{method:"PATCH",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userId:t,notificationId:e})})}async function g(e,t,n){let r=await p(`${d.apiUrl}${u.PROJECT.CODE.EXECUTE(e)}`,{method:"POST",headers:{"X-CM-ProjectId":d.projectId,Authorization:`Bearer ${d.secretKey}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:t,qualifier:n})});return JSON.parse(r.result)}n.d(t,"b",function(){return M}),n.d(t,"a",function(){return D});const M=r,D=d}}]);